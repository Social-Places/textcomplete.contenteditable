{"version":3,"sources":["webpack:///textcomplete.contenteditable.min.js","webpack:///webpack/bootstrap 02a760a3a1ed966ffb48","webpack:///./node_modules/textcomplete/lib/search_result.js","webpack:///./node_modules/textcomplete/lib/utils.js","webpack:///./node_modules/textcomplete/lib/strategy.js","webpack:///./src/main.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/textcomplete.contenteditable.js","webpack:///./node_modules/textcomplete/lib/editor.js","webpack:///./node_modules/eventemitter3/index.js","webpack:///./node_modules/textcomplete/lib/query.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_strategy","SearchResult","obj","data","term","strategy","this","beforeCursor","afterCursor","replacement","replace","Array","isArray","match","matchText","_","p1","parseInt","slice","index","join","template","default","calculateElementOffset","el","rect","getBoundingClientRect","_el$ownerDocument","ownerDocument","defaultView","documentElement","offset","top","pageYOffset","left","pageXOffset","clientTop","clientLeft","isDigit","charCode","CHAR_CODE_ZERO","CHAR_CODE_NINE","getLineHeightPx","node","computedStyle","window","getComputedStyle","lineHeight","charCodeAt","parseFloat","fontSize","body","document","tempNode","createElement","nodeName","innerHTML","style","fontFamily","appendChild","height","offsetHeight","removeChild","createCustomEvent","CustomEvent","type","options","cancelable","detail","undefined","event","createEvent","initCustomEvent","DEFAULT_TEMPLATE","_query","_query2","Strategy","cache","text","context","_context","callback","searchWithCache","search","_this","results","global","_textcomplete2","_textcomplete","Textcomplete","editors","ContentEditable","g","Function","eval","e","_interopRequireDefault","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_get","receiver","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","_editor2","_editor","_search_result","CALLBACK_METHODS","_class","_Editor","view","selection","getSelection","forEach","method","bind","startListening","stopListening","searchResult","before","getBeforeCursor","after","getAfterCursor","range","getRange","selectNode","startContainer","deleteContents","execCommand","detach","newRange","setStart","collapse","rangeRects","test","navigator","userAgent","getClientRects","docRects","container","Text","parentElement","dir","right","clientWidth","collapsed","wholeText","substring","startOffset","emitChangeEvent","code","getCode","emitMoveEvent","emitEnterEvent","emitEscEvent","defaultPrevented","preventDefault","addEventListener","onInput","onKeydown","removeEventListener","force","rangeCount","getRangeAt","contains","Error","activeElement","focus","Editor","_eventemitter","_eventemitter2","_utils","_EventEmitter","apply","arguments","moveEvent","emit","enterEvent","changeEvent","escEvent","keyCode","ctrlKey","Events","EE","fn","once","EventEmitter","_events","_eventsCount","has","prefix","eventNames","events","names","push","getOwnPropertySymbols","concat","listeners","exists","evt","available","ee","a1","a2","a3","a4","a5","args","len","removeListener","j","on","listener","removeAllListeners","off","addListener","setMaxListeners","prefixed","_search_result2","Query","map","result"],"mappings":"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","file":"textcomplete.contenteditable.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _strategy = __webpack_require__(2);\n\nvar _strategy2 = _interopRequireDefault(_strategy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Encapsulate an result of each search results.\n */\nvar SearchResult = function () {\n\n  /**\n   * @param {object} data - An element of array callbacked by search function.\n   */\n  function SearchResult(data, term, strategy) {\n    _classCallCheck(this, SearchResult);\n\n    this.data = data;\n    this.term = term;\n    this.strategy = strategy;\n  }\n\n  _createClass(SearchResult, [{\n    key: \"replace\",\n    value: function replace(beforeCursor, afterCursor) {\n      var replacement = this.strategy.replace(this.data);\n      if (replacement !== null) {\n        if (Array.isArray(replacement)) {\n          afterCursor = replacement[1] + afterCursor;\n          replacement = replacement[0];\n        }\n        var match = this.strategy.matchText(beforeCursor);\n        if (match) {\n          replacement = replacement.replace(/\\$&/g, match[0]).replace(/\\$(\\d)/g, function (_, p1) {\n            return match[parseInt(p1, 10)];\n          });\n          return [[beforeCursor.slice(0, match.index), replacement, beforeCursor.slice(match.index + match[0].length)].join(\"\"), afterCursor];\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.strategy.template(this.data, this.term);\n    }\n  }]);\n\n  return SearchResult;\n}();\n\nexports.default = SearchResult;\n//# sourceMappingURL=search_result.js.map\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calculateElementOffset = calculateElementOffset;\nexports.getLineHeightPx = getLineHeightPx;\n\n\n/**\n * Create a custom event\n *\n * @private\n */\nvar createCustomEvent = exports.createCustomEvent = function () {\n  if (typeof window.CustomEvent === \"function\") {\n    return function (type, options) {\n      return new document.defaultView.CustomEvent(type, {\n        cancelable: options && options.cancelable || false,\n        detail: options && options.detail || undefined\n      });\n    };\n  } else {\n    // Custom event polyfill from\n    // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#polyfill\n    return function (type, options) {\n      var event = document.createEvent(\"CustomEvent\");\n      event.initCustomEvent(type,\n      /* bubbles */false, options && options.cancelable || false, options && options.detail || undefined);\n      return event;\n    };\n  }\n}();\n\n/**\n * Get the current coordinates of the `el` relative to the document.\n *\n * @private\n */\nfunction calculateElementOffset(el) {\n  var rect = el.getBoundingClientRect();\n  var _el$ownerDocument = el.ownerDocument,\n      defaultView = _el$ownerDocument.defaultView,\n      documentElement = _el$ownerDocument.documentElement;\n\n  var offset = {\n    top: rect.top + defaultView.pageYOffset,\n    left: rect.left + defaultView.pageXOffset\n  };\n  if (documentElement) {\n    offset.top -= documentElement.clientTop;\n    offset.left -= documentElement.clientLeft;\n  }\n  return offset;\n}\n\nvar CHAR_CODE_ZERO = \"0\".charCodeAt(0);\nvar CHAR_CODE_NINE = \"9\".charCodeAt(0);\n\nfunction isDigit(charCode) {\n  return charCode >= CHAR_CODE_ZERO && charCode <= CHAR_CODE_NINE;\n}\n\n/**\n * Returns the line-height of the given node in pixels.\n *\n * @private\n */\nfunction getLineHeightPx(node) {\n  var computedStyle = window.getComputedStyle(node);\n\n  // If the char code starts with a digit, it is either a value in pixels,\n  // or unitless, as per:\n  // https://drafts.csswg.org/css2/visudet.html#propdef-line-height\n  // https://drafts.csswg.org/css2/cascade.html#computed-value\n  if (isDigit(computedStyle.lineHeight.charCodeAt(0))) {\n    // In real browsers the value is *always* in pixels, even for unit-less\n    // line-heights. However, we still check as per the spec.\n    if (isDigit(computedStyle.lineHeight.charCodeAt(computedStyle.lineHeight.length - 1))) {\n      return parseFloat(computedStyle.lineHeight) * parseFloat(computedStyle.fontSize);\n    } else {\n      return parseFloat(computedStyle.lineHeight);\n    }\n  }\n\n  // Otherwise, the value is \"normal\".\n  // If the line-height is \"normal\", calculate by font-size\n  var body = document.body;\n  if (!body) {\n    return 0;\n  }\n  var tempNode = document.createElement(node.nodeName);\n  tempNode.innerHTML = \"&nbsp;\";\n  tempNode.style.fontSize = computedStyle.fontSize;\n  tempNode.style.fontFamily = computedStyle.fontFamily;\n  body.appendChild(tempNode);\n  // Assume the height of the element is the line-height\n  var height = tempNode.offsetHeight;\n  body.removeChild(tempNode);\n  return height;\n}\n//# sourceMappingURL=utils.js.map\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _query = __webpack_require__(8);\n\nvar _query2 = _interopRequireDefault(_query);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_INDEX = 2;\n\nfunction DEFAULT_TEMPLATE(value) {\n  return value;\n}\n\n/**\n * Properties for a strategy.\n *\n * @typedef\n */\n\n/**\n * Encapsulate a single strategy.\n */\nvar Strategy = function () {\n  function Strategy(props) {\n    _classCallCheck(this, Strategy);\n\n    this.props = props;\n    this.cache = props.cache ? {} : null;\n  }\n\n  /**\n   * @return {this}\n   */\n\n\n  _createClass(Strategy, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.cache = null;\n      return this;\n    }\n\n    /**\n     * Build a Query object by the given string if this matches to the string.\n     *\n     * @param {string} text - Head to input cursor.\n     */\n\n  }, {\n    key: \"buildQuery\",\n    value: function buildQuery(text) {\n      if (typeof this.props.context === \"function\") {\n        var _context = this.props.context(text);\n        if (typeof _context === \"string\") {\n          text = _context;\n        } else if (!_context) {\n          return null;\n        }\n      }\n      var match = this.matchText(text);\n      return match ? new _query2.default(this, match[this.index], match) : null;\n    }\n  }, {\n    key: \"search\",\n    value: function search(term, callback, match) {\n      if (this.cache) {\n        this.searchWithCache(term, callback, match);\n      } else {\n        this.props.search(term, callback, match);\n      }\n    }\n\n    /**\n     * @param {object} data - An element of array callbacked by search function.\n     */\n\n  }, {\n    key: \"replace\",\n    value: function replace(data) {\n      return this.props.replace(data);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"searchWithCache\",\n    value: function searchWithCache(term, callback, match) {\n      var _this = this;\n\n      if (this.cache && this.cache[term]) {\n        callback(this.cache[term]);\n      } else {\n        this.props.search(term, function (results) {\n          if (_this.cache) {\n            _this.cache[term] = results;\n          }\n          callback(results);\n        }, match);\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"matchText\",\n    value: function matchText(text) {\n      if (typeof this.match === \"function\") {\n        return this.match(text);\n      } else {\n        return text.match(this.match);\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"match\",\n    get: function get() {\n      return this.props.match;\n    }\n\n    /** @private */\n\n  }, {\n    key: \"index\",\n    get: function get() {\n      return typeof this.props.index === \"number\" ? this.props.index : DEFAULT_INDEX;\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return this.props.template || DEFAULT_TEMPLATE;\n    }\n  }]);\n\n  return Strategy;\n}();\n\nexports.default = Strategy;\n//# sourceMappingURL=strategy.js.map\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar _textcomplete = __webpack_require__(5);\n\nvar _textcomplete2 = _interopRequireDefault(_textcomplete);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nglobal.Textcomplete || (global.Textcomplete = {});\nglobal.Textcomplete.editors || (global.Textcomplete.editors = {});\nglobal.Textcomplete.editors.ContentEditable = _textcomplete2.default;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _editor = __webpack_require__(6);\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _search_result = __webpack_require__(0);\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nvar _utils = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CALLBACK_METHODS = [\"onInput\", \"onKeydown\"];\n\nvar _class = function (_Editor) {\n  _inherits(_class, _Editor);\n\n  function _class(el) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this));\n\n    _this.el = el;\n    _this.document = el.ownerDocument;\n    _this.view = _this.document.defaultView;\n    _this.selection = _this.view.getSelection();\n\n    CALLBACK_METHODS.forEach(function (method) {\n      ;_this[method] = _this[method].bind(_this);\n    });\n\n    _this.startListening();\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), \"destroy\", this).call(this);\n      this.stopListening();this.el = null;\n      return this;\n    }\n  }, {\n    key: \"applySearchResult\",\n    value: function applySearchResult(searchResult) {\n      var before = this.getBeforeCursor();\n      var after = this.getAfterCursor();\n      if (before != null && after != null) {\n        var replace = searchResult.replace(before, after);\n        if (Array.isArray(replace)) {\n          var range = this.getRange();\n          range.selectNode(range.startContainer);\n          range.deleteContents();\n          this.document.execCommand(\"insertHTML\", false, replace[0] + replace[1]);\n          range.detach();\n          var newRange = this.getRange();\n          newRange.setStart(newRange.startContainer, newRange.startContainer.length);\n          newRange.collapse(true);\n        }\n      }\n    }\n  }, {\n    key: \"getCursorOffset\",\n    value: function getCursorOffset() {\n      var range = this.getRange();\n      var rangeRects = range.getBoundingClientRect();\n      if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n        rangeRects = range.getClientRects()[0];\n      }\n\n      var docRects = this.document.body.getBoundingClientRect();\n      var container = range.startContainer;\n      var el = container instanceof Text ? container.parentElement : container;\n\n      var left = rangeRects.left - docRects.left;\n      var lineHeight = (0, _utils.getLineHeightPx)(el);\n      var top = rangeRects.top - docRects.top + lineHeight;\n      return this.el.dir !== \"rtl\" ? { left: left, lineHeight: lineHeight, top: top } : { right: document.documentElement.clientWidth - left, lineHeight: lineHeight, top: top };\n    }\n  }, {\n    key: \"getBeforeCursor\",\n    value: function getBeforeCursor() {\n      var range = this.getRange();\n      if (range.collapsed && range.startContainer instanceof Text) {\n        return range.startContainer.wholeText.substring(0, range.startOffset);\n      }\n      return null;\n    }\n  }, {\n    key: \"getAfterCursor\",\n    value: function getAfterCursor() {\n      var range = this.getRange();\n      if (range.collapsed && range.startContainer instanceof Text) {\n        return range.startContainer.wholeText.substring(range.startOffset);\n      }\n      return null;\n    }\n\n    /** @private */\n\n  }, {\n    key: \"onInput\",\n    value: function onInput(_) {\n      // if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      // Safari behaves much stranger than Chrome and Firefox.\n      // return\n      // }\n      this.emitChangeEvent();\n    }\n\n    /** @private */\n\n  }, {\n    key: \"onKeydown\",\n    value: function onKeydown(e) {\n      var code = this.getCode(e);\n      var event = void 0;\n      if (code === \"UP\" || code === \"DOWN\") {\n        event = this.emitMoveEvent(code);\n      } else if (code === \"ENTER\") {\n        event = this.emitEnterEvent();\n      } else if (code === \"ESC\") {\n        event = this.emitEscEvent();\n      }\n      if (event && event.defaultPrevented) {\n        e.preventDefault();\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"startListening\",\n    value: function startListening() {\n      this.el.addEventListener(\"input\", this.onInput);\n      this.el.addEventListener(\"keydown\", this.onKeydown);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening() {\n      this.el.removeEventListener(\"input\", this.onInput);\n      this.el.removeEventListener(\"keydown\", this.onKeydown);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"getRange\",\n    value: function getRange(force) {\n      for (var i = 0, l = this.selection.rangeCount; i < l; i++) {\n        var _range = this.selection.getRangeAt(i);\n        if (this.el.contains(_range.startContainer)) {\n          return _range;\n        }\n      }\n      // The element is not active.\n      if (force) {\n        throw new Error(\"Unexpected\");\n      }\n      var activeElement = this.document.activeElement;\n      this.el.focus();\n      var range = this.getRange(true);\n      activeElement && activeElement.focus();\n      return range;\n    }\n  }]);\n\n  return _class;\n}(_editor2.default);\n\nexports.default = _class;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventemitter = __webpack_require__(7);\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _utils = __webpack_require__(1);\n\nvar _search_result = __webpack_require__(0);\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/*eslint no-unused-vars: off*/\n\n/**\n * Abstract class representing a editor target.\n *\n * Editor classes must implement `#applySearchResult`, `#getCursorOffset` and\n * `#getBeforeCursor` methods.\n *\n * Editor classes must invoke `#emitMoveEvent`, `#emitEnterEvent`,\n * `#emitChangeEvent` and `#emitEscEvent` at proper timing.\n *\n * @abstract\n */\n\n\n/** @typedef */\nvar Editor = function (_EventEmitter) {\n  _inherits(Editor, _EventEmitter);\n\n  function Editor() {\n    _classCallCheck(this, Editor);\n\n    return _possibleConstructorReturn(this, (Editor.__proto__ || Object.getPrototypeOf(Editor)).apply(this, arguments));\n  }\n\n  _createClass(Editor, [{\n    key: \"destroy\",\n\n    /**\n     * It is called when associated textcomplete object is destroyed.\n     *\n     * @return {this}\n     */\n    value: function destroy() {\n      return this;\n    }\n\n    /**\n     * It is called when a search result is selected by a user.\n     */\n\n  }, {\n    key: \"applySearchResult\",\n    value: function applySearchResult(_) {\n      throw new Error(\"Not implemented.\");\n    }\n\n    /**\n     * The input cursor's absolute coordinates from the window's left\n     * top corner.\n     */\n\n  }, {\n    key: \"getCursorOffset\",\n    value: function getCursorOffset() {\n      throw new Error(\"Not implemented.\");\n    }\n\n    /**\n     * Editor string value from head to cursor.\n     * Returns null if selection type is range not cursor.\n     */\n\n  }, {\n    key: \"getBeforeCursor\",\n    value: function getBeforeCursor() {\n      throw new Error(\"Not implemented.\");\n    }\n\n    /**\n     * Emit a move event, which moves active dropdown element.\n     * Child class must call this method at proper timing with proper parameter.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitMoveEvent\",\n    value: function emitMoveEvent(code) {\n      var moveEvent = (0, _utils.createCustomEvent)(\"move\", {\n        cancelable: true,\n        detail: {\n          code: code\n        }\n      });\n      this.emit(\"move\", moveEvent);\n      return moveEvent;\n    }\n\n    /**\n     * Emit a enter event, which selects current search result.\n     * Child class must call this method at proper timing.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitEnterEvent\",\n    value: function emitEnterEvent() {\n      var enterEvent = (0, _utils.createCustomEvent)(\"enter\", { cancelable: true });\n      this.emit(\"enter\", enterEvent);\n      return enterEvent;\n    }\n\n    /**\n     * Emit a change event, which triggers auto completion.\n     * Child class must call this method at proper timing.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitChangeEvent\",\n    value: function emitChangeEvent() {\n      var changeEvent = (0, _utils.createCustomEvent)(\"change\", {\n        detail: {\n          beforeCursor: this.getBeforeCursor()\n        }\n      });\n      this.emit(\"change\", changeEvent);\n      return changeEvent;\n    }\n\n    /**\n     * Emit a esc event, which hides dropdown element.\n     * Child class must call this method at proper timing.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitEscEvent\",\n    value: function emitEscEvent() {\n      var escEvent = (0, _utils.createCustomEvent)(\"esc\", { cancelable: true });\n      this.emit(\"esc\", escEvent);\n      return escEvent;\n    }\n\n    /**\n     * Helper method for parsing KeyboardEvent.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"getCode\",\n    value: function getCode(e) {\n      return e.keyCode === 9 ? \"ENTER\" // tab\n      : e.keyCode === 13 ? \"ENTER\" // enter\n      : e.keyCode === 27 ? \"ESC\" // esc\n      : e.keyCode === 38 ? \"UP\" // up\n      : e.keyCode === 40 ? \"DOWN\" // down\n      : e.keyCode === 78 && e.ctrlKey ? \"DOWN\" // ctrl-n\n      : e.keyCode === 80 && e.ctrlKey ? \"UP\" // ctrl-p\n      : \"OTHER\";\n    }\n  }]);\n\n  return Editor;\n}(_eventemitter2.default);\n\nexports.default = Editor;\n//# sourceMappingURL=editor.js.map\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif (true) {\n  module.exports = EventEmitter;\n}\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _search_result = __webpack_require__(0);\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nvar _strategy = __webpack_require__(2);\n\nvar _strategy2 = _interopRequireDefault(_strategy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Encapsulate matching condition between a Strategy and current editor's value.\n */\nvar Query = function () {\n  function Query(strategy, term, match) {\n    _classCallCheck(this, Query);\n\n    this.strategy = strategy;\n    this.term = term;\n    this.match = match;\n  }\n\n  /**\n   * Invoke search strategy and callback the given function.\n   */\n\n\n  _createClass(Query, [{\n    key: \"execute\",\n    value: function execute(callback) {\n      var _this = this;\n\n      this.strategy.search(this.term, function (results) {\n        callback(results.map(function (result) {\n          return new _search_result2.default(result, _this.term, _this.strategy);\n        }));\n      }, this.match);\n    }\n  }]);\n\n  return Query;\n}();\n\nexports.default = Query;\n//# sourceMappingURL=query.js.map\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// textcomplete.contenteditable.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 02a760a3a1ed966ffb48","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _strategy = require(\"./strategy\");\n\nvar _strategy2 = _interopRequireDefault(_strategy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Encapsulate an result of each search results.\n */\nvar SearchResult = function () {\n\n  /**\n   * @param {object} data - An element of array callbacked by search function.\n   */\n  function SearchResult(data, term, strategy) {\n    _classCallCheck(this, SearchResult);\n\n    this.data = data;\n    this.term = term;\n    this.strategy = strategy;\n  }\n\n  _createClass(SearchResult, [{\n    key: \"replace\",\n    value: function replace(beforeCursor, afterCursor) {\n      var replacement = this.strategy.replace(this.data);\n      if (replacement !== null) {\n        if (Array.isArray(replacement)) {\n          afterCursor = replacement[1] + afterCursor;\n          replacement = replacement[0];\n        }\n        var match = this.strategy.matchText(beforeCursor);\n        if (match) {\n          replacement = replacement.replace(/\\$&/g, match[0]).replace(/\\$(\\d)/g, function (_, p1) {\n            return match[parseInt(p1, 10)];\n          });\n          return [[beforeCursor.slice(0, match.index), replacement, beforeCursor.slice(match.index + match[0].length)].join(\"\"), afterCursor];\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.strategy.template(this.data, this.term);\n    }\n  }]);\n\n  return SearchResult;\n}();\n\nexports.default = SearchResult;\n//# sourceMappingURL=search_result.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/textcomplete/lib/search_result.js\n// module id = 0\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calculateElementOffset = calculateElementOffset;\nexports.getLineHeightPx = getLineHeightPx;\n\n\n/**\n * Create a custom event\n *\n * @private\n */\nvar createCustomEvent = exports.createCustomEvent = function () {\n  if (typeof window.CustomEvent === \"function\") {\n    return function (type, options) {\n      return new document.defaultView.CustomEvent(type, {\n        cancelable: options && options.cancelable || false,\n        detail: options && options.detail || undefined\n      });\n    };\n  } else {\n    // Custom event polyfill from\n    // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#polyfill\n    return function (type, options) {\n      var event = document.createEvent(\"CustomEvent\");\n      event.initCustomEvent(type,\n      /* bubbles */false, options && options.cancelable || false, options && options.detail || undefined);\n      return event;\n    };\n  }\n}();\n\n/**\n * Get the current coordinates of the `el` relative to the document.\n *\n * @private\n */\nfunction calculateElementOffset(el) {\n  var rect = el.getBoundingClientRect();\n  var _el$ownerDocument = el.ownerDocument,\n      defaultView = _el$ownerDocument.defaultView,\n      documentElement = _el$ownerDocument.documentElement;\n\n  var offset = {\n    top: rect.top + defaultView.pageYOffset,\n    left: rect.left + defaultView.pageXOffset\n  };\n  if (documentElement) {\n    offset.top -= documentElement.clientTop;\n    offset.left -= documentElement.clientLeft;\n  }\n  return offset;\n}\n\nvar CHAR_CODE_ZERO = \"0\".charCodeAt(0);\nvar CHAR_CODE_NINE = \"9\".charCodeAt(0);\n\nfunction isDigit(charCode) {\n  return charCode >= CHAR_CODE_ZERO && charCode <= CHAR_CODE_NINE;\n}\n\n/**\n * Returns the line-height of the given node in pixels.\n *\n * @private\n */\nfunction getLineHeightPx(node) {\n  var computedStyle = window.getComputedStyle(node);\n\n  // If the char code starts with a digit, it is either a value in pixels,\n  // or unitless, as per:\n  // https://drafts.csswg.org/css2/visudet.html#propdef-line-height\n  // https://drafts.csswg.org/css2/cascade.html#computed-value\n  if (isDigit(computedStyle.lineHeight.charCodeAt(0))) {\n    // In real browsers the value is *always* in pixels, even for unit-less\n    // line-heights. However, we still check as per the spec.\n    if (isDigit(computedStyle.lineHeight.charCodeAt(computedStyle.lineHeight.length - 1))) {\n      return parseFloat(computedStyle.lineHeight) * parseFloat(computedStyle.fontSize);\n    } else {\n      return parseFloat(computedStyle.lineHeight);\n    }\n  }\n\n  // Otherwise, the value is \"normal\".\n  // If the line-height is \"normal\", calculate by font-size\n  var body = document.body;\n  if (!body) {\n    return 0;\n  }\n  var tempNode = document.createElement(node.nodeName);\n  tempNode.innerHTML = \"&nbsp;\";\n  tempNode.style.fontSize = computedStyle.fontSize;\n  tempNode.style.fontFamily = computedStyle.fontFamily;\n  body.appendChild(tempNode);\n  // Assume the height of the element is the line-height\n  var height = tempNode.offsetHeight;\n  body.removeChild(tempNode);\n  return height;\n}\n//# sourceMappingURL=utils.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/textcomplete/lib/utils.js\n// module id = 1\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _query = require(\"./query\");\n\nvar _query2 = _interopRequireDefault(_query);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_INDEX = 2;\n\nfunction DEFAULT_TEMPLATE(value) {\n  return value;\n}\n\n/**\n * Properties for a strategy.\n *\n * @typedef\n */\n\n/**\n * Encapsulate a single strategy.\n */\nvar Strategy = function () {\n  function Strategy(props) {\n    _classCallCheck(this, Strategy);\n\n    this.props = props;\n    this.cache = props.cache ? {} : null;\n  }\n\n  /**\n   * @return {this}\n   */\n\n\n  _createClass(Strategy, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.cache = null;\n      return this;\n    }\n\n    /**\n     * Build a Query object by the given string if this matches to the string.\n     *\n     * @param {string} text - Head to input cursor.\n     */\n\n  }, {\n    key: \"buildQuery\",\n    value: function buildQuery(text) {\n      if (typeof this.props.context === \"function\") {\n        var _context = this.props.context(text);\n        if (typeof _context === \"string\") {\n          text = _context;\n        } else if (!_context) {\n          return null;\n        }\n      }\n      var match = this.matchText(text);\n      return match ? new _query2.default(this, match[this.index], match) : null;\n    }\n  }, {\n    key: \"search\",\n    value: function search(term, callback, match) {\n      if (this.cache) {\n        this.searchWithCache(term, callback, match);\n      } else {\n        this.props.search(term, callback, match);\n      }\n    }\n\n    /**\n     * @param {object} data - An element of array callbacked by search function.\n     */\n\n  }, {\n    key: \"replace\",\n    value: function replace(data) {\n      return this.props.replace(data);\n    }\n\n    /** @private */\n\n  }, {\n    key: \"searchWithCache\",\n    value: function searchWithCache(term, callback, match) {\n      var _this = this;\n\n      if (this.cache && this.cache[term]) {\n        callback(this.cache[term]);\n      } else {\n        this.props.search(term, function (results) {\n          if (_this.cache) {\n            _this.cache[term] = results;\n          }\n          callback(results);\n        }, match);\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"matchText\",\n    value: function matchText(text) {\n      if (typeof this.match === \"function\") {\n        return this.match(text);\n      } else {\n        return text.match(this.match);\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: \"match\",\n    get: function get() {\n      return this.props.match;\n    }\n\n    /** @private */\n\n  }, {\n    key: \"index\",\n    get: function get() {\n      return typeof this.props.index === \"number\" ? this.props.index : DEFAULT_INDEX;\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return this.props.template || DEFAULT_TEMPLATE;\n    }\n  }]);\n\n  return Strategy;\n}();\n\nexports.default = Strategy;\n//# sourceMappingURL=strategy.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/textcomplete/lib/strategy.js\n// module id = 2\n// module chunks = 0","import ContentEditable from \"./textcomplete.contenteditable\"\n\nglobal.Textcomplete || (global.Textcomplete = {})\nglobal.Textcomplete.editors || (global.Textcomplete.editors = {})\nglobal.Textcomplete.editors.ContentEditable = ContentEditable\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 4\n// module chunks = 0","// @flow\n\nimport Editor from \"textcomplete/lib/editor\"\nimport SearchResult from \"textcomplete/lib/search_result\"\nimport { calculateElementOffset, getLineHeightPx } from \"textcomplete/lib/utils\"\n\nconst CALLBACK_METHODS = [\"onInput\", \"onKeydown\"]\n\nexport default class extends Editor {\n  el: HTMLElement\n  selection: Selection\n\n  constructor(el: HTMLElement) {\n    super()\n    this.el = el\n    this.document = el.ownerDocument\n    this.view = this.document.defaultView\n    this.selection = this.view.getSelection()\n\n    CALLBACK_METHODS.forEach(method => {\n      ;(this: any)[method] = (this: any)[method].bind(this)\n    })\n\n    this.startListening()\n  }\n\n  destroy() {\n    super.destroy()\n    this.stopListening()\n    ;(this: any).el = null\n    return this\n  }\n\n  applySearchResult(searchResult: SearchResult) {\n    const before = this.getBeforeCursor()\n    const after = this.getAfterCursor()\n    if (before != null && after != null) {\n      const replace = searchResult.replace(before, after)\n      if (Array.isArray(replace)) {\n        const range = this.getRange()\n        range.selectNode(range.startContainer)\n        range.deleteContents()\n        this.document.execCommand(\"insertHTML\", false, replace[0] + replace[1])\n        range.detach()\n        const newRange = this.getRange()\n        newRange.setStart(newRange.startContainer, newRange.startContainer.length)\n        newRange.collapse(true)\n      }\n    }\n  }\n\n  getCursorOffset() {\n    const range = this.getRange()\n    let rangeRects = range.getBoundingClientRect()\n    if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      rangeRects = range.getClientRects()[0];\n    }\n\n    const docRects = this.document.body.getBoundingClientRect()\n    const container = range.startContainer\n    const el: HTMLElement = (container instanceof Text\n      ? container.parentElement\n      : container: any)\n\n    const left = rangeRects.left - docRects.left\n    const lineHeight = getLineHeightPx(el)\n    const top = rangeRects.top - docRects.top + lineHeight\n    return this.el.dir !== \"rtl\"\n      ? { left, lineHeight, top }\n      : { right: document.documentElement.clientWidth - left, lineHeight, top }\n  }\n\n  getBeforeCursor() {\n    const range = this.getRange()\n    if (range.collapsed && range.startContainer instanceof Text) {\n      return range.startContainer.wholeText.substring(0, range.startOffset)\n    }\n    return null\n  }\n\n  getAfterCursor() {\n    const range = this.getRange()\n    if (range.collapsed && range.startContainer instanceof Text) {\n      return range.startContainer.wholeText.substring(range.startOffset)\n    }\n    return null\n  }\n\n  /** @private */\n  onInput(_: Event) {\n    // if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      // Safari behaves much stranger than Chrome and Firefox.\n      // return\n    // }\n    this.emitChangeEvent()\n  }\n\n  /** @private */\n  onKeydown(e: KeyboardEvent) {\n    const code = this.getCode(e)\n    let event\n    if (code === \"UP\" || code === \"DOWN\") {\n      event = this.emitMoveEvent(code)\n    } else if (code === \"ENTER\") {\n      event = this.emitEnterEvent()\n    } else if (code === \"ESC\") {\n      event = this.emitEscEvent()\n    }\n    if (event && event.defaultPrevented) {\n      e.preventDefault()\n    }\n  }\n\n  /** @private */\n  startListening() {\n    this.el.addEventListener(\"input\", this.onInput)\n    this.el.addEventListener(\"keydown\", this.onKeydown)\n  }\n\n  /** @private */\n  stopListening() {\n    this.el.removeEventListener(\"input\", this.onInput)\n    this.el.removeEventListener(\"keydown\", this.onKeydown)\n  }\n\n  /** @private */\n  getRange(force: ?boolean): Range {\n    for (let i = 0, l = this.selection.rangeCount; i < l; i++) {\n      const range = this.selection.getRangeAt(i)\n      if (this.el.contains(range.startContainer)) {\n        return range\n      }\n    }\n    // The element is not active.\n    if (force) {\n      throw new Error(\"Unexpected\")\n    }\n    const activeElement = this.document.activeElement\n    this.el.focus()\n    const range = this.getRange(true)\n    activeElement && activeElement.focus()\n    return range\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/textcomplete.contenteditable.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventemitter = require(\"eventemitter3\");\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _utils = require(\"./utils\");\n\nvar _search_result = require(\"./search_result\");\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/*eslint no-unused-vars: off*/\n\n/**\n * Abstract class representing a editor target.\n *\n * Editor classes must implement `#applySearchResult`, `#getCursorOffset` and\n * `#getBeforeCursor` methods.\n *\n * Editor classes must invoke `#emitMoveEvent`, `#emitEnterEvent`,\n * `#emitChangeEvent` and `#emitEscEvent` at proper timing.\n *\n * @abstract\n */\n\n\n/** @typedef */\nvar Editor = function (_EventEmitter) {\n  _inherits(Editor, _EventEmitter);\n\n  function Editor() {\n    _classCallCheck(this, Editor);\n\n    return _possibleConstructorReturn(this, (Editor.__proto__ || Object.getPrototypeOf(Editor)).apply(this, arguments));\n  }\n\n  _createClass(Editor, [{\n    key: \"destroy\",\n\n    /**\n     * It is called when associated textcomplete object is destroyed.\n     *\n     * @return {this}\n     */\n    value: function destroy() {\n      return this;\n    }\n\n    /**\n     * It is called when a search result is selected by a user.\n     */\n\n  }, {\n    key: \"applySearchResult\",\n    value: function applySearchResult(_) {\n      throw new Error(\"Not implemented.\");\n    }\n\n    /**\n     * The input cursor's absolute coordinates from the window's left\n     * top corner.\n     */\n\n  }, {\n    key: \"getCursorOffset\",\n    value: function getCursorOffset() {\n      throw new Error(\"Not implemented.\");\n    }\n\n    /**\n     * Editor string value from head to cursor.\n     * Returns null if selection type is range not cursor.\n     */\n\n  }, {\n    key: \"getBeforeCursor\",\n    value: function getBeforeCursor() {\n      throw new Error(\"Not implemented.\");\n    }\n\n    /**\n     * Emit a move event, which moves active dropdown element.\n     * Child class must call this method at proper timing with proper parameter.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitMoveEvent\",\n    value: function emitMoveEvent(code) {\n      var moveEvent = (0, _utils.createCustomEvent)(\"move\", {\n        cancelable: true,\n        detail: {\n          code: code\n        }\n      });\n      this.emit(\"move\", moveEvent);\n      return moveEvent;\n    }\n\n    /**\n     * Emit a enter event, which selects current search result.\n     * Child class must call this method at proper timing.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitEnterEvent\",\n    value: function emitEnterEvent() {\n      var enterEvent = (0, _utils.createCustomEvent)(\"enter\", { cancelable: true });\n      this.emit(\"enter\", enterEvent);\n      return enterEvent;\n    }\n\n    /**\n     * Emit a change event, which triggers auto completion.\n     * Child class must call this method at proper timing.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitChangeEvent\",\n    value: function emitChangeEvent() {\n      var changeEvent = (0, _utils.createCustomEvent)(\"change\", {\n        detail: {\n          beforeCursor: this.getBeforeCursor()\n        }\n      });\n      this.emit(\"change\", changeEvent);\n      return changeEvent;\n    }\n\n    /**\n     * Emit a esc event, which hides dropdown element.\n     * Child class must call this method at proper timing.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"emitEscEvent\",\n    value: function emitEscEvent() {\n      var escEvent = (0, _utils.createCustomEvent)(\"esc\", { cancelable: true });\n      this.emit(\"esc\", escEvent);\n      return escEvent;\n    }\n\n    /**\n     * Helper method for parsing KeyboardEvent.\n     *\n     * @see {@link Textarea} for live example.\n     */\n\n  }, {\n    key: \"getCode\",\n    value: function getCode(e) {\n      return e.keyCode === 9 ? \"ENTER\" // tab\n      : e.keyCode === 13 ? \"ENTER\" // enter\n      : e.keyCode === 27 ? \"ESC\" // esc\n      : e.keyCode === 38 ? \"UP\" // up\n      : e.keyCode === 40 ? \"DOWN\" // down\n      : e.keyCode === 78 && e.ctrlKey ? \"DOWN\" // ctrl-n\n      : e.keyCode === 80 && e.ctrlKey ? \"UP\" // ctrl-p\n      : \"OTHER\";\n    }\n  }]);\n\n  return Editor;\n}(_eventemitter2.default);\n\nexports.default = Editor;\n//# sourceMappingURL=editor.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/textcomplete/lib/editor.js\n// module id = 6\n// module chunks = 0","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/eventemitter3/index.js\n// module id = 7\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _search_result = require(\"./search_result\");\n\nvar _search_result2 = _interopRequireDefault(_search_result);\n\nvar _strategy = require(\"./strategy\");\n\nvar _strategy2 = _interopRequireDefault(_strategy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Encapsulate matching condition between a Strategy and current editor's value.\n */\nvar Query = function () {\n  function Query(strategy, term, match) {\n    _classCallCheck(this, Query);\n\n    this.strategy = strategy;\n    this.term = term;\n    this.match = match;\n  }\n\n  /**\n   * Invoke search strategy and callback the given function.\n   */\n\n\n  _createClass(Query, [{\n    key: \"execute\",\n    value: function execute(callback) {\n      var _this = this;\n\n      this.strategy.search(this.term, function (results) {\n        callback(results.map(function (result) {\n          return new _search_result2.default(result, _this.term, _this.strategy);\n        }));\n      }, this.match);\n    }\n  }]);\n\n  return Query;\n}();\n\nexports.default = Query;\n//# sourceMappingURL=query.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/textcomplete/lib/query.js\n// module id = 8\n// module chunks = 0"],"sourceRoot":""}